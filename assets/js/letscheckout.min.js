$(document).ready(function(){$("input").iCheck({checkboxClass:"icheckbox_flat-purple",radioClass:"iradio_flat-purple"}),$('[data-toggle="popover"]').popover({placement:"auto",html:!0,trigger:"click"}),$("[data-href]").each(function(){$(this).click(function(){try{if(eval($(this).data("href")))return void(document.location=eval($(this).data("href")))}catch($e){document.location=$(this).data("href")}})}),$("[data-fade]").each(function(){$(this).click(function(){var t=$(this).data("fade"),c=t.split(",")[0],a=t.split(",")[1];return c&&$(c).fadeIn(),a&&$(a).fadeOut(),!1})}),$("[data-slide]").each(function(){$(this).click(function(){var t=$(this).data("slide"),c=t.split(",")[0],a=t.split(",")[1];return $(this).data("active")&&$($(this).data("active")).toggleClass("active"),c&&$(c).slideToggle(),a&&$(a).slideToggle(),!1})}),$("[data-shipping-method]").each(function(){$(this).click(function(){$("[data-shipping-method]").removeClass("active"),$(this).addClass("active"),setShipping($(this).find("input:radio").val())})}),$(".payment-method-item").each(function(){$(this).click(function(){$(".payment-method-item").removeClass("active"),$(this).addClass("active"),$(".payment-method-form").removeClass("show").hide(),$("#"+$(this).data("target")).fadeIn()})}),$(".items .item").each(function(){var t=$(this);t.find(".close").click(function(){t.fadeOut(function(){$(this).remove(),calculateOrder(),calculateTotal()})})}),$("#coupon-form").submit(function(){return setDiscount(20),!1}),$(".grand-total-toggle").click(function(){});var currency=function(t){return t=number_format(t,config.currency.decimal),"right"==config.currency.position?t+=config.currency.prefix:"left"==config.currency.position&&(t=config.currency.prefix+t),t},getPrice=function(t){return t=t.replace(config.currency.prefix,""),t=parseFloat(t)};1==config.currency.onload&&$(config.currency.selector).each(function(){var t=$(this),c=t.html();t.html(currency(c))}),$("[data-quantity-control]").each(function(){var t=$(this),c=t.data("min"),a=t.data("max"),e=$(t.data("target")),i=getPrice(e.html());t.find(".control").click(function(){var t=$(this),l=t.parent().find(".count span"),r=parseInt(l.html()),o=0;if(t.hasClass("min"))o=r-1,c>=o&&(o=c);else{if(!t.hasClass("plus"))return!1;o=r+1,o>=a&&(o=a)}n(e,o,i),l.html(o)});var n=function(t,c,a){t.html(currency(a*c)),calculateOrder(),calculateTotal()}});var calculateOrder=function(){var t=$("#total-order"),c=0;$(".items .item .item-price").each(function(){var t=$(this);c+=getPrice(t.find(".value").html())}),t.html(currency(c))},calculateTotal=function(){var t=$(config.calculate.wrapper),c=0;t.find(config.calculate.item+":not("+config.calculate.except+")").each(function(){var t=$(this);t.attr("data-calculate-min")?c-=getPrice(t.find(".total-value").html()):c+=getPrice(t.find(".total-value").html())}),t.find(config.calculate.total).html(currency(c))},setDiscount=function(t){0==t&&(t=0),$(config.calculate.wrapper).find(config.calculate.discount).html(currency(t)),calculateTotal()},setTax=function(t){0==t&&(t=0),$(config.calculate.wrapper).find(config.calculate.tax).html(currency(t)),calculateTotal()},setShipping=function(t){0==t&&(t=0),$(config.calculate.wrapper).find(config.calculate.shipping).html(currency(t)),calculateTotal()};calculateTotal()});